<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <title>Hva' ska' vi ha?</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
    body {
      background-image: url('images/jol00.jpg');
      background-size: cover;
      background-position: center;
      transition: background-image 0.5s ease-in-out;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>
<body>

  <img id="playButton" src="buttonLR.png" alt="Play Button" style="cursor: pointer; width: 400px;">
  <audio id="audioPlayer" src="sounds/viSkaHaTequilaShot.mov" preload="auto"></audio>

  <script>
    const btn = document.getElementById('playButton');
    const audio = document.getElementById('audioPlayer');

    let currentIndex = 1;

    function pad(n) {
      return n < 10 ? '0' + n : n;
    }

    function preloadNextImages(startIndex) {
      for (let i = 1; i <= 5; i++) {
        let nextIndex = (startIndex + i - 1) % 42 + 1;
        const img = new Image();
        img.src = `images/jol${pad(nextIndex)}.jpg`;
      }
    }

    btn.addEventListener('click', () => {
      // Afspil lyd
      audio.currentTime = 0;
      audio.play();

      // Skift baggrund
      document.body.style.backgroundImage = `url('images/jol${pad(currentIndex)}.jpg')`;

      // Forøg index (og loop tilbage til 1 efter 42)
      currentIndex = currentIndex === 42 ? 1 : currentIndex + 1;

      // Preload de næste 5 billeder
      preloadNextImages(currentIndex);
    });

    // Preload de første 5 billeder ved load
    preloadNextImages(currentIndex);
  </script>

</body>
</html>